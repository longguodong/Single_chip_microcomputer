C51 COMPILER V9.01   MAIN                                                                  11/29/2017 13:04:51 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\专业软件安装\keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg51.h>
   2          #include <intrins.h>
   3          #include "scq.h"
   4          #include "delay.h"
   5          #include "display.h"
   6          #include "keybord.h"
   7          #include "ds18b20.h"
   8          #include "iic.h"
   9          #include "ds1302.h"
  10          #include"lcd.h"
  11          
  12          
  13           /*T1扫描声明,可以不用*/
  14          #define count_M2 250 //T1，Mode2的值0.25ms
  15          #define TH_M2 (256-count_M2)
  16          #define TL_M2 (256-count_M2)
  17          int  count_T1=0;
  18          
  19          /*T0定时声明*/
  20          #define count_M1 50000 //T0，Mode1的值50ms
  21          #define TH_M1 (65536-count_M1)/256
  22          #define TL_M1 (65536-count_M1)%256
  23          int  count_T0=0;
  24          int tem_T=0,tt;//温度3秒计时
  25          
  26          
  27          
  28          
  29          main()
  30          {
  31   1      
  32   1               IE=0x92;       //1001 0010,启用ES串行，TF0中断
  33   1           TMOD=0X21;//0010 0001 T0采用Mode1,T1采用Mode2
  34   1               TH0=TH_M1;
  35   1           TL0=TL_M1;
  36   1            TR0=1;   //启动T0
  37   1              /*****************************
  38   1              串口通信相关设置
  39   1              ***************************/
  40   1                TH1=0XFD;//波特率9600
  41   1            TL1=0XFD;
  42   1            REN=1;
  43   1            SM0=0;
  44   1            SM1=1;
  45   1                TR1=1;
  46   1               Close_LED();
  47   1               Close_SEG();   
  48   1           No_buzzrelay();  //关闭蜂鸣器
  49   1               LcdInit();
  50   1               Lcdstart();
  51   1               Star_1302();
  52   1               
  53   1      
  54   1               while(1)
  55   1        {              
C51 COMPILER V9.01   MAIN                                                                  11/29/2017 13:04:51 PAGE 2   

  56   2        
  57   2           Buz_ele_on();
  58   2           disp_lcd();
  59   2          if(tt==3)
  60   2               {
  61   3               Temp_show();
  62   3               }
  63   2              
  64   2         }    
  65   1      
  66   1      }
  67          
  68           
  69           void T_0(void) interrupt 1  
  70          {
  71   1         TH0=TH_M1;
  72   1         TL0=TL_M1;
  73   1         if(++count_T0==20)
  74   1         {
  75   2           tem_T++;
  76   2               if(tem_T==4)
  77   2                 { 
  78   3                   tem_T=0;
  79   3                 }
  80   2                 count_T0=0;
  81   2         }
  82   1         tt=tem_T;
  83   1      }
  84          
  85          
  86          
  87          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    120    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
